var product = [{
    id: 1,
    img: './img/Wonwoo1.jpg',
    name: 'Wonwoo',
    price: 150,
    description: 'Wonwoo Seventeen set of black and white solo photo',
    type: 'SEVENTEEN',
}, {
    id: 2,
    img: './img/Bus/Alan1.jpg',
    name: 'Alan',
    price: 150,
    description: 'Each Seventeen album is a journey through different musical styles and emotions.',
    type: 'BUS',
}, {
    id: 3,
    img: './img/ALSEV1.jpg',
    name: 'Seventeen Album',
    price: 690,
    description: 'The lyrics in their songs often resonate with their fans, offering comfort and inspiration.',
    type: 'Album',
}, {
    id: 4,
    img: './img/Nice1.jpg',
    name: 'Nice',
    price: 150,
    description: 'Their synchronized energy creates an aura of strength and purpose.',
    type: 'ATLAST',
},{
    id: 5,
    img: './img/Atlas/Erwin1(150).jfif',
    name: 'Erwin',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
}, {
    id: 6,
    img: './img/Atlas/Jet1.jfif',
    name: 'Jet',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
}, {
    id: 7,
    img: './img/Atlas/Junior1.jfif',
    name: 'Junior',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
}, {
    id: 8,
    img: './img/Atlas/muon1.jfif',
    name: 'Muon',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
},{
    id: 9,
    img: './img/Atlas/Nice1.jfif',
    name: 'Nice',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
}, {
    id: 10,
    img: './img/Atlas/album1(795).jfif',
    name: 'Atlas Album',
    price: 795,
    description: 'Mangosteen',
    type: 'Album',
}, {
    id: 11,
    img: './img/Atlas/Phoom1.jfif',
    name: 'Poom',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
}, {
    id: 12,
    img: './img/Atlas/Tad1.jfif',
    name: 'Tad',
    price: 150,
    description: 'Monster 2024',
    type: 'ATLAST',
},{
    id: 13,
    img: './img/Atlas/Erwin2.jfif',
    name: 'Erwin',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
}, {
    id: 14,
    img: './img/Bus/AA1(220).jfif',
    name: 'AA',
    price: 220,
    description: 'Card Transforemr',
    type: 'BUS',
}, {
    id: 15,
    img: './img/Bus/Alan1(150).jfif',
    name: 'Alan',
    price: 150,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 16,
    img: './img/Bus/copper1(220).jfif',
    name: 'Copper',
    price: 120,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 17,
    img: './img/Bus/Jinwook1(180).jfif',
    name: 'Jinwook',
    price: 180,
    description: 'Card Transforemr',
    type: 'BUS',
}, {
    id: 18,
    img: './img/Bus/Junt1(180).jfif',
    name: 'JungT',
    price: 180,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 19,
    img: './img/Bus/Khunpol1(250).jfif',
    name: 'Khunpol',
    price: 250,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 20,
    img: './img/Bus/Marckris1(150).jfif',
    name: 'Marckris',
    price: 150,
    description: 'Card Transforemr',
    type: 'BUS',
}, {
    id: 21,
    img: './img/Bus/Nex1(220).jfif',
    name: 'Nex',
    price: 220,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 22,
    img: './img/Bus/Peemwasu1(300).jfif',
    name: 'Peemwasu',
    price: 300,
    description: 'Card Transforemr',
    type: 'BUS',
},{
    id: 23,
    img: './img/Bus/Phu1(250).jfif',
    name: 'Phu',
    price: 250,
    description: 'Card Transforemr',
    type: 'BUS',
}, {
    id: 24,
    img: './img/Bus/Thai1(300).jfif',
    name: 'Thai',
    price: 300,
    description: 'Card Transforemr',
    type: 'BUS',
}, {
    id: 25,
    img: './img/Enhypen/Heeseung1.jfif',
    name: 'Heeseung',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 26,
    img: './img/Enhypen/Jake1.jfif',
    name: 'Jake',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 27,
    img: './img/Enhypen/Jay1.jfif',
    name: 'Jay',
    price: 690,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
},
{
    id: 28,
    img: './img/Enhypen/Jungwon1.jfif',
    name: 'Jungwon',
    price: 120,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
},{
    id: 29,
    img: './img/Enhypen/Niki1.jfif',
    name: 'Niki',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 30,
    img: './img/Enhypen/sunghoon1.jfif',
    name: 'Sunghoon',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 31,
    img: './img/Enhypen/sunoo1.jfif',
    name: 'Sunoo',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 32,
    img: './img/Enhypen/album1(1152).png',
    name: 'Enhypen album',
    price: 1152,
    description: 'DayDream.',
    type: 'Album',
}, {
    id: 33,
    img: './img/Enhypen/album2(1728).png',
    name: 'Enhypen album',
    price: 1728,
    description: 'Romance:UNTOLD',
    type: 'Album',
},  {
    id: 34,
    img: './img/Enhypen/album3(1074).png',
    name: 'Enhypen album',
    price: 1075,
    description: 'Orange Beood',
    type: 'Album',
},{
    id: 35,
    img: './img/Enhypen/album4(1486).png',
    name: 'Enhypen album',
    price: 1485,
    description: 'Manifesto',
    type: 'Album',
},{
    id: 36,
    img: './img/Enhypen/album5(1820).jpg',
    name: 'Enhypen album',
    price: 1820,
    description: 'Dilemma',
    type: 'Album',
},{
    id: 37,
    img: './img/seventeen/Dino2.jfif',
    name: 'Dino',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 38,
    img: './img/seventeen/DK2.jfif',
    name: 'DK',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
},{
    id: 39,
    img: './img/seventeen/Hoshi2.jfif',
    name: 'Hoshi',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
},{
    id: 40,
    img: './img/seventeen/Jeonghun2.jfif',
    name: 'Jeonghun',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 41,
    img: './img/seventeen/joshua2.jfif',
    name: 'joshua',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 42,
    img: './img/seventeen/Jun2.jfif',
    name: 'Jun',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
},{
    id: 43,
    img: './img/seventeen/Mingyu2.jfif',
    name: 'Mingyu',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
},{
    id: 44,
    img: './img/seventeen/Scoups2.jfif',
    name: 'Scoups',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 45,
    img: './img/seventeen/Seungkwan2.jfif',
    name: 'Seungkwan',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 46,
    img: './img/seventeen/The82.jfif',
    name: 'The8',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 47,
    img: './img/seventeen/Vernon2.jfif',
    name: 'Vernon',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 48,
    img: './img/seventeen/Wonwoo2.jfif',
    name: 'Wonwoo',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 49,
    img: './img/seventeen/Woozi2.jfif',
    name: 'Woozi',
    price: 150,
    description: 'World Tour In GOYANG',
    type: 'SEVENTEEN',
}, {
    id: 50,
    img: './img/seventeen/Album1(913).png',
    name: 'seventeen Album',
    price: 915,
    description: 'Alwaysyours',
    type: 'Album',
}, {
    id: 51,
    img: './img/seventeen/Album2(1083).png',
    name: 'seventeen Album',
    price: 1085,
    description: 'Alwaysyours',
    type: 'Album',
}, {
    id: 52,
    img: './img/seventeen/Album3(1083).png',
    name: 'seventeen Album',
    price: 1085,
    description: 'Alwaysyours',
    type: 'Album',
}, {
    id: 53,
    img: './img/seventeen/Album4(520).png',
    name: 'seventeen Album',
    price: 520,
    description: 'Dream',
    type: 'Album',
}, {
    id: 54,
    img: './img/seventeen/Album5(815).jpg',
    name: 'seventeen Album',
    price: 815,
    description: '24H',
    type: 'Album',
}, {
    id: 55,
    img: './img/seventeen/Album6(473.12).png',
    name: 'seventeen Album',
    price: 475,
    description: 'You Make My Day',
    type: 'Album',
}, {
    id: 56,
    img: './img/Atlas/Jet2.jfif',
    name: 'Jet',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
}, {
    id: 57,
    img: './img/Atlas/Junior2.jfif',
    name: 'Junior',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
},
{
    id: 58,
    img: './img/Atlas/muon2.jfif',
    name: 'Muon',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
},{
    id: 59,
    img: './img/Atlas/Nice2.jfif',
    name: 'Nice',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
}, {
    id: 60,
    img: './img/Atlas/album(695).jpg',
    name: 'Atlas Album',
    price: 150,
    description: 'Zeadomfest',
    type: 'Album',
}, {
    id: 61,
    img: './img/Atlas/Phoom2.jfif',
    name: 'Poom',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
}, {
    id: 62,
    img: './img/Atlas/Tad2.jfif',
    name: 'Tad',
    price: 150,
    description: 'Zeadomfest',
    type: 'ATLAST',
},{
    id: 63,
    img: './img/Bus/AA3.jfif',
    name: 'AA',
    price: 220,
    description: 'Card Liar',
    type: 'BUS',
}, {
    id: 64,
    img: './img/Bus/Alan3.jfif',
    name: 'Alan',
    price: 150,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 65,
    img: './img/Bus/copper3.jfif',
    name: 'Copper',
    price: 120,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 66,
    img: './img/Bus/Jinwook3.jfif',
    name: 'Jinwook',
    price: 180,
    description: 'Card Liar',
    type: 'BUS',
}, {
    id: 67,
    img: './img/Bus/Junt3.jfif',
    name: 'JungT',
    price: 180,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 68,
    img: './img/Bus/Khunpol3.jfif',
    name: 'Khunpol',
    price: 250,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 69,
    img: './img/Bus/Marckris3.jfif',
    name: 'Marckris',
    price: 150,
    description: 'Card Liar',
    type: 'BUS',
}, {
    id: 70,
    img: './img/Bus/Nex3.jfif',
    name: 'Nex',
    price: 220,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 71,
    img: './img/Bus/Peemwasu3.jfif',
    name: 'Peemwasu',
    price: 300,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 72,
    img: './img/Bus/Phu3.jfif',
    name: 'Phu',
    price: 250,
    description: 'Card Liar',
    type: 'BUS',
}, {
    id: 73,
    img: './img/Bus/Thai3.jfif',
    name: 'Thai',
    price: 300,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 74,
    img: './img/Bus/Heart3.jfif',
    name: 'Heart',
    price: 200,
    description: 'Card Liar',
    type: 'BUS',
},{
    id: 75,
    img: './img/Bus/Heart1(200).jfif',
    name: 'Heart',
    price: 200,
    description: 'Card Transformer',
    type: 'BUS',
},{
    id: 76,
    img: './img/Enhypen/Heeseung3.jfif',
    name: 'Heeseung',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 77,
    img: './img/Enhypen/Jake3.jfif',
    name: 'Jake',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 78,
    img: './img/Enhypen/Jay3.jfif',
    name: 'Jay',
    price: 690,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 79,
    img: './img/Enhypen/Jungwon3.jfif',
    name: 'Jungwon',
    price: 120,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
},{
    id: 80,
    img: './img/Enhypen/Niki3.jpg',
    name: 'Niki',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 81,
    img: './img/Enhypen/sunghoon3.jpg',
    name: 'Sunghoon',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
}, {
    id: 82,
    img: './img/Enhypen/sunoo3.jfif',
    name: 'Sunoo',
    price: 150,
    description: '7 Lights that once shone alone met and grew together.',
    type: 'ENHYPHEN',
},{
    id: 83,
    img: './img/seventeen/Dino1.jfif',
    name: 'Dino',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 84,
    img: './img/seventeen/DK1.jfif',
    name: 'DK',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
},
{
    id: 85,
    img: './img/seventeen/Hoshi1.jfif',
    name: 'Hoshi',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
},{
    id: 86,
    img: './img/seventeen/Jeonghun1.jfif',
    name: 'Jeonghun',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 87,
    img: './img/seventeen/joshua1.jfif',
    name: 'joshua',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 88,
    img: './img/seventeen/Jun1.jfif',
    name: 'Jun',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 89,
    img: './img/seventeen/Mingyu1.jfif',
    name: 'Mingyu',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 90,
    img: './img/seventeen/Scoups1.jfif',
    name: 'Scoups',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 91,
    img: './img/seventeen/Seungkwan1.jfif',
    name: 'Seungkwan',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 92,
    img: './img/seventeen/The81.jfif',
    name: 'The8',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 93,
    img: './img/seventeen/Vernon1.jfif',
    name: 'Vernon',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 94,
    img: './img/seventeen/Wonwoo1.jfif',
    name: 'Wonwoo',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
}, {
    id: 95,
    img: './img/seventeen/Woozi1.jfif',
    name: 'Woozi',
    price: 150,
    description: 'A comedian who is a bit of an idol',
    type: 'SEVENTEEN',
},




];

$(document).ready(() => {
    
    var html = '';
    for (let i = 0; i < product.length; i++) {
        html += `<div onclick= "PhotoDetail(${i})" class="product-item" data-type="${product[i].type}">
                    <img class="product-img" src="${product[i].img}" alt="">
                    <p style="font-size:1.2vw;">${product[i].name}</p>
                    <p style="font-size:1vw;">${numberWithCommas(product[i].price)} THB</p>
                </div>`;
    }
    $("#productlist").html(html);
});

function numberWithCommas(x) {
    x = x.toString();
    var pattern = /(-?\d+)(\d{3})/;
    while (pattern.test(x))
        x = x.replace(pattern, "$1,$2");
    return x;
}

function Search(myData) {
    var value = $('#' + myData.id).val().toLowerCase(); // Convert input to lowercase for case-insensitive search
    var html = '';

    for (let i = 0; i < product.length; i++) {
        if (product[i].name.toLowerCase().includes(value)) { // Convert product name to lowercase for comparison
            html += `<div onclick= "PhotoDetail(${i})" class="product-item" data-type="${product[i].type}">
                        <img class="product-img" src="${product[i].img}" alt="">
                        <p style="font-size:1.2vw;">${product[i].name}</p>
                        <p style="font-size:1vw;">${numberWithCommas(product[i].price)} THB</p>
                    </div>`;
        }
    }

    // Display results or a "Not Found" message if no results
    if (html === '') {
        $("#productlist").html(`<p>Not Found (((￣へ￣井)<p>`);
    } else {
        $("#productlist").html(html);
    }
}

//ค้นหา
function searchphoto(param) {
    console.log(param);
    $(".product-item").css('display', 'none');
    if (param == 'All') {
        $(".product-item").css('display', 'block');
    } else {
        $(".product-item[data-type='" + param + "']").css('display', 'block');
    }
}
//แสดงข้อมูล detail
var photoindex = 0
function PhotoDetail(index) {
    photoindex = index;
    console.log(photoindex)
    $("#modalDesc").css('display', 'flex')
    $("#mdd-img").attr('src', product[index].img);
    $("#mdd-name").text(product[index].name);
    $("#mdd-price").text(numberWithCommas(product[index].price) + ' THB');
    $("#mdd-desc").text(product[index].description);
}
function closepic() {
    $(".model").css('display', 'none')
}
//  เพิ่มใส่รถเข็น
var cart = [];
function updateCartCount() {
    let totalCount = cart.reduce((sum, item) => sum + item.count, 0);
    if (totalCount > 0) {
        $("#cartcount").css('display', 'flex').text(totalCount);
    } else {
        $("#cartcount").css('display', 'none');
    }
}

// เพิ่มสินค้าลงในตะกร้า
function Addtocart() {
    var pass = true;
    for (let i = 0; i < cart.length; i++) {
        if (photoindex == cart[i].index) {
            console.log('Found Same Photo');
            cart[i].count++;
            pass = false;
        }
    }
    if (pass) {
        var obj = {
            index: photoindex,
            id: product[photoindex].id,
            name: product[photoindex].name,
            price: product[photoindex].price,
            img: product[photoindex].img,
            count: 1
        };
        cart.push(obj);
    }
    console.log(cart);
    updateCartCount(); // อัปเดตจำนวนสินค้าในตะกร้าหลังเพิ่ม
//gifขอบคุณ
    Swal.fire({
        icon: 'success',
        title: 'Add ' + product[photoindex].name + ' to Cart! ',
        backdrop: `
            url("img/thank-you-sticker-thanks-sticker.gif")
            center bottom /200px 200px 
            no-repeat
        `
    });
}
//เปิดปิดตะกร้า
function OpenCart() {
    $("#modalCart").css('display', 'flex');
    rendercart();
}
function closecart() {
    $('#modalCart').css('display', 'none');
}
//เพิ่มจำนวนบนตระกร้าและรวมเงิน
function rendercart() {
    if (cart.length > 0) {
        var html = '';
        for (let i = 0; i < cart.length; i++) {
            html += ` <div class="cartlist-item">
                    <div class="cartlist-left">
                        <img src="${cart[i].img}"
                            alt="">
                        <div class="cartlist-detail">
                            <p style="font-size: 1.5vw;">${cart[i].name}</p>
                            <p style="font-size: 1.2vw;">${numberWithCommas(cart[i].price * cart[i].count)} THB</p>
                        </div>
                    </div>
                    <div class="cartlist-right">
                        <p onclick="deinitems('-', ${i})" class="bntc">-</p>
                        <p id = "countitems${i}" style="margin: 0 15px;">${cart[i].count}</p>
                        <p onclick="deinitems('+', ${i})" class="bntc">+</p>
                    </div>
                </div>`;
        }
        $("#myCart").html(html)

    }
    else {
        $("#myCart").html('Not Found This PhotoCard (＃ﾟДﾟ)')
    }
}
//ปุ่ม+ - สินค้าบนตะกร้า
function deinitems(action, index) {
    if (action == '-') {
        if (cart[index].count > 1) {
            cart[index].count--;
            $("#countitems" + index).text(cart[index].count); // อัปเดตจำนวนบนหน้าตะกร้า
        } else {
            cart.splice(index, 1); // ลบสินค้าออกจาก cart หากจำนวนเป็น 0
        }
        rendercart(); // อัปเดตหน้าตะกร้าอีกครั้ง
    } else if (action == '+') {
        cart[index].count++;
        $("#countitems" + index).text(cart[index].count); // เพิ่มจำนวนสินค้าและแสดงผล
        rendercart(); // อัปเดตตะกร้าอีกครั้ง
    }
    updateCartCount(); // อัปเดตจำนวนสินค้าในตะกร้าบนไอคอน
}

/*payment */
function proceedToPayment() {
    window.location.href = "payment.html";
}


const signUpButton=document.getElementById('signUpButton');
const signInButton=document.getElementById('signInButton');
const signInForm=document.getElementById('signIn');
const signUpForm=document.getElementById('signup');

signUpButton.addEventListener('click',function(){
    signInForm.style.display="none";
    signUpForm.style.display="block";
})
signInButton.addEventListener('click', function(){
    signInForm.style.display="block";
    signUpForm.style.display="none";
})

 // logout
 function logout() {
    localStorage.removeItem('userEmail');
    location.reload();
    Swal.fire({
        title: 'ออกจากระบบสำเร็จ',
        icon: 'success',
        confirmButtonText: 'ตกลง'
    }).then(() => {
        window.location.href = 'logout.php'; // ไปที่หน้า logout.php เพื่อทำลาย session
    });
}

